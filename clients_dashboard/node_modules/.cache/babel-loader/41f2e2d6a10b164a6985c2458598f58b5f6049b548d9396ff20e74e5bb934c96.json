{"ast":null,"code":"var _jsxFileName = \"/Users/stephanierowe/clients_dashboard/clients_dashboard/src/components/Progress.jsx\",\n  _s2 = $RefreshSig$();\nimport React, { useEffect, useRef } from \"react\";\nimport useFetchTasks from \"../hooks/useFetchTasks\";\nimport Chart from \"chart.js/auto\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Progress(_ref) {\n  _s2();\n  var _s = $RefreshSig$();\n  let {\n    valueFromUpperCard\n  } = _ref;\n  const chartRef = useRef(null);\n  _s(useEffect(_s(() => {\n    _s();\n    const {\n      tasks,\n      error\n    } = useFetchTasks();\n    let closedVal = 0;\n    let openVal = 0;\n    tasks.map((task, index) => {\n      if (valueFromUpperCard === task.project_name) {\n        if (task.completed_status === \"Open\") {\n          openVal = openVal + 1;\n        } else {\n          closedVal = closedVal + 1;\n        }\n        let total = closedVal + openVal;\n        closedVal = closedVal / total;\n        openVal = openVal / total;\n      }\n      return null;\n    });\n    const data = {\n      labels: [\"Closed\", \"Open\"],\n      datasets: [{\n        label: \"Tasks\",\n        data: [closedVal, openVal],\n        backgroundColor: [\"#36a2eb\", \"#ff6384\"]\n      }]\n    };\n    const config = {\n      type: \"doughnut\",\n      data: data,\n      options: {\n        responsive: true\n      }\n    };\n    const chart = new Chart(chartRef.current, config);\n  }, \"eR40frzU9GqMI/u2DXEKw20BudY=\", false, function () {\n    return [useFetchTasks];\n  })), \"eR40frzU9GqMI/u2DXEKw20BudY=\", false, function () {\n    return [useFetchTasks];\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"col col-4 col-progress\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card all-progress-cards\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-header tasks-header\",\n        children: \"Progress\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body progress-card-body\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: closedVal\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: openVal\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n}\n_s2(Progress, \"X+1SfQQ6xefXNU27aQW843M7cTw=\");\n_c = Progress;\nexport default Progress;\nvar _c;\n$RefreshReg$(_c, \"Progress\");","map":{"version":3,"names":["React","useEffect","useRef","useFetchTasks","Chart","jsxDEV","_jsxDEV","Progress","_ref","_s2","_s","$RefreshSig$","valueFromUpperCard","chartRef","tasks","error","closedVal","openVal","map","task","index","project_name","completed_status","total","data","labels","datasets","label","backgroundColor","config","type","options","responsive","chart","current","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/stephanierowe/clients_dashboard/clients_dashboard/src/components/Progress.jsx"],"sourcesContent":["import React, { useEffect, useRef } from \"react\";\nimport useFetchTasks from \"../hooks/useFetchTasks\";\nimport Chart from \"chart.js/auto\";\n\nfunction Progress({ valueFromUpperCard }) {\n  const chartRef = useRef(null);\n\n  useEffect(() => {\n    const { tasks, error } = useFetchTasks();\n    let closedVal = 0;\n    let openVal = 0;\n\n    tasks.map((task, index) => {\n      if (valueFromUpperCard === task.project_name) {\n        if (task.completed_status === \"Open\") {\n          openVal = openVal + 1;\n        } else {\n          closedVal = closedVal + 1;\n        }\n        let total = closedVal + openVal;\n        closedVal = closedVal/total;\n        openVal = openVal/total;\n      }\n      return null;\n    });\n    const data = {\n      labels: [\"Closed\", \"Open\"],\n      datasets: [\n        {\n          label: \"Tasks\",\n          data: [closedVal, openVal],\n          backgroundColor: [\"#36a2eb\", \"#ff6384\"],\n        },\n      ],\n    };\n    const config = {\n      type: \"doughnut\",\n      data: data,\n      options: {\n        responsive: true,\n      },\n    };\n    const chart = new Chart(chartRef.current, config);\n\n    \n  })\n\n  return (\n    <div className=\"col col-4 col-progress\">\n      <div className=\"card all-progress-cards\">\n        <div className=\"card-header tasks-header\">Progress</div>\n        <div className=\"card-body progress-card-body\"></div>\n        <div>{closedVal}</div>\n        <div>{openVal}</div>\n      </div>\n    </div>\n  );\n}\n\nexport default Progress;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}